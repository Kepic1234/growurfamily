
repeat task.wait() until game:IsLoaded()

local Players = game.Players.LocalPlayer
local TeleportService = game:GetService("TeleportService")
local teleport = false

-- pet list
local acceptedPets = getgenv().AcceptedPets or {
    ["Bunny"] = true,
    ["Turtle"] = true,
    ["Dragonfly"] = true,
    ["Disco Bee"] = true,
    ["Butterfly"] = true
}


local function waitForuFarm()
    local farm
    repeat
        task.wait()
        for _, u in pairs(workspace:WaitForChild("Farm"):GetChildren()) do
            local sign = u:FindFirstChild("Sign")
            if sign and sign:GetAttribute("_owner") == Players.Name then
                farm = u
                break
            end
        end
    until farm
    return farm
end


local function getPetUUID()
    local farm = waitForuFarm()
    local important = farm:WaitForChild("Important")
    local physical = important:WaitForChild("Objects_Physical")

    for _, obj in ipairs(physical:GetChildren()) do
        if obj:IsA("Model") and obj.Name == "PetEgg" then
            local timeToHatch = obj:GetAttribute("TimeToHatch")
            local uuid = obj:GetAttribute("OBJECT_UUID")
            if timeToHatch == 0 and uuid then
                return uuid
            end
        end
    end
end


local uuid
repeat
    uuid = getPetUUID()
    task.wait()
until uuid


for _, v in next, getgc(true) do 
    if type(v) == "table" then
        local petData = rawget(v, uuid)
        if petData and petData.Data and petData.Data.Type then
            local name = petData.Data.Type
            print("Nom du pet :", name)

            if acceptedPets[name] then
                teleport = true
                break
            end
        end
    end
end


if not teleport then
    print("bad pet. teleport...")
    queue_on_teleport(game:HttpGet("https://raw.githubusercontent.com/Kepic1234/growurfamily/refs/heads/main/v1"))
    TeleportService:Teleport(126884695634066, Players)
else
    print("PetList Found.")
end
